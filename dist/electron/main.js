module.exports=function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(t){return e[t]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=20)}([function(e){e.exports=require("electron")},function(e){e.exports=require("os")},function(e){e.exports=require("fs")},function(e){e.exports=require("path")},function(e){e.exports=require("request")},function(e){e.exports=require("fs-extra")},function(e){e.exports=require("iconv-lite")},function(e){e.exports=require("lowdb")},function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(10),r=n(18),s=o.readFileSync,a=o.writeFileSync,u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"read",value:function(){if(!o.existsSync(this.source))return a(this.source,this.serialize(this.defaultValue)),this.defaultValue;try{var e=s(this.source,"utf-8").trim();return e?this.deserialize(e):this.defaultValue}catch(e){throw e instanceof SyntaxError&&(e.message=`Malformed JSON in file: ${this.source}\n${e.message}`),e}}},{key:"write",value:function(e){return a(this.source,this.serialize(e))}}]),t}(r);e.exports=u},function(e){e.exports=require("lodash-id")},function(e,t,n){function i(e){function t(t){return h.apply(e,t)}function n(){return this instanceof n?(g.apply(this,arguments),this):n.apply(Object.create(n.prototype),arguments)}function s(){return this instanceof s?(_.apply(this,arguments),this):s.apply(Object.create(s.prototype),arguments)}function a(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,s){return m(t,n,i,(function(a){!a||"EMFILE"!==a.code&&"ENFILE"!==a.code?("function"==typeof s&&s.apply(this,arguments),r()):o([e,[t,n,i,s]])}))}(e,t,n,i)}c(e),e.gracefulify=i,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var u=e.readFile;e.readFile=function(e,t,n){return"function"==typeof t&&(n=t,t=null),function e(t,n,i){return u(t,n,(function(s){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?("function"==typeof i&&i.apply(this,arguments),r()):o([e,[t,n,i]])}))}(e,t,n)};var f=e.writeFile;e.writeFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,s){return f(t,n,i,(function(a){!a||"EMFILE"!==a.code&&"ENFILE"!==a.code?("function"==typeof s&&s.apply(this,arguments),r()):o([e,[t,n,i,s]])}))}(e,t,n,i)};var d=e.appendFile;d&&(e.appendFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,s){return d(t,n,i,(function(a){!a||"EMFILE"!==a.code&&"ENFILE"!==a.code?("function"==typeof s&&s.apply(this,arguments),r()):o([e,[t,n,i,s]])}))}(e,t,n,i)});var h=e.readdir;if(e.readdir=function(e,n,i){var s=[e];return"function"==typeof n?i=n:s.push(n),s.push((function(e,n){n&&n.sort&&n.sort(),!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof i&&i.apply(this,arguments),r()):o([t,[s]])})),t(s)},"v0.8"===process.version.substr(0,4)){var p=l(e);n=p.ReadStream,s=p.WriteStream}var g=e.ReadStream;g&&(n.prototype=Object.create(g.prototype),n.prototype.open=function(){var e=this;a(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var _=e.WriteStream;_&&(s.prototype=Object.create(_.prototype),s.prototype.open=function(){var e=this;a(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return n},set:function(e){n=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return s},set:function(e){s=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"FileReadStream",{get:function(){return n},set:function(e){n=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"FileWriteStream",{get:function(){return s},set:function(e){s=e},enumerable:!0,configurable:!0});var m=e.open;return e.open=a,e}function o(e){h("ENQUEUE",e[0].name,e[1]),global[s].push(e)}function r(){var e=global[s].shift();e&&(h("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}var s,a,u=n(2),c=n(11),l=n(13),f=n(15),d=n(16);"function"==typeof Symbol&&"function"==typeof Symbol.for?(s=Symbol.for("graceful-fs.queue"),a=Symbol.for("graceful-fs.previous")):(s="___graceful-fs.queue",a="___graceful-fs.previous");var h=function(){};if(d.debuglog?h=d.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var e=d.format.apply(d,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!global[s]){var p=[];Object.defineProperty(global,s,{get:function(){return p}}),u.close=function(e){function t(t,n){return e.call(u,t,(function(e){e||r(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(t,a,{value:e}),t}(u.close),u.closeSync=function(e){function t(){e.apply(u,arguments),r()}return Object.defineProperty(t,a,{value:e}),t}(u.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){h(global[s]),n(17).equal(global[s].length,0)}))}e.exports=i(f(u)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!u.__patched&&(e.exports=i(u),u.__patched=!0)},function(e,t,n){var i=n(12),o=process.cwd,r=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return r||(r=o.call(process)),r};try{process.cwd()}catch(e){}var a=process.chdir;process.chdir=function(e){r=null,a.call(process,e)},e.exports=function(e){function t(t){return t?function(n,i,o){return t.call(e,n,i,(function(e){c(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function n(t){return t?function(n,i){try{return t.call(e,n,i)}catch(e){if(!c(e))throw e}}:t}function o(t){return t?function(n,i,o,r){return t.call(e,n,i,o,(function(e){c(e)&&(e=null),r&&r.apply(this,arguments)}))}:t}function r(t){return t?function(n,i,o){try{return t.call(e,n,i,o)}catch(e){if(!c(e))throw e}}:t}function a(t){return t?function(n,i,o){function r(e,t){t&&(0>t.uid&&(t.uid+=4294967296),0>t.gid&&(t.gid+=4294967296)),o&&o.apply(this,arguments)}return"function"==typeof i&&(o=i,i=null),i?t.call(e,n,i,r):t.call(e,n,r)}:t}function u(t){return t?function(n,i){var o=i?t.call(e,n,i):t.call(e,n);return 0>o.uid&&(o.uid+=4294967296),0>o.gid&&(o.gid+=4294967296),o}:t}function c(e){return!e||("ENOSYS"===e.code||(!process.getuid||0!==process.getuid())&&("EINVAL"===e.code||"EPERM"===e.code))}i.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,o){e.open(t,i.O_WRONLY|i.O_SYMLINK,n,(function(t,i){return t?void(o&&o(t)):void e.fchmod(i,n,(function(t){e.close(i,(function(e){o&&o(t||e)}))}))}))},e.lchmodSync=function(t,n){var o,r=e.openSync(t,i.O_WRONLY|i.O_SYMLINK,n),s=!0;try{o=e.fchmodSync(r,n),s=!1}finally{if(s)try{e.closeSync(r)}catch(e){}else e.closeSync(r)}return o}}(e),e.lutimes||function(e){i.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,o,r){e.open(t,i.O_SYMLINK,(function(t,i){return t?void(r&&r(t)):void e.futimes(i,n,o,(function(t){e.close(i,(function(e){r&&r(t||e)}))}))}))},e.lutimesSync=function(t,n,o){var r,s=e.openSync(t,i.O_SYMLINK),a=!0;try{r=e.futimesSync(s,n,o),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return r}):(e.lutimes=function(e,t,n,i){i&&process.nextTick(i)},e.lutimesSync=function(){})}(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=r(e.chownSync),e.fchownSync=r(e.fchownSync),e.lchownSync=r(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=u(e.statSync),e.fstatSync=u(e.fstatSync),e.lstatSync=u(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(e,t,n,i){i&&process.nextTick(i)},e.lchownSync=function(){}),"win32"===s&&(e.rename=function(t){return function(n,i,o){var r=Date.now(),s=0;t(n,i,(function a(u){return u&&("EACCES"===u.code||"EPERM"===u.code)&&6e4>Date.now()-r?(setTimeout((function(){e.stat(i,(function(e){e&&"ENOENT"===e.code?t(n,i,a):o(u)}))}),s),void(100>s&&(s+=10))):void(o&&o(u))}))}}(e.rename)),e.read=function(t){function n(n,i,o,r,s,a){var u;if(a&&"function"==typeof a){var c=0;u=function(l){return l&&"EAGAIN"===l.code&&10>c?(c++,t.call(e,n,i,o,r,s,u)):void a.apply(this,arguments)}}return t.call(e,n,i,o,r,s,u)}return n.__proto__=t,n}(e.read),e.readSync=function(t){return function(n,i,o,r,s){for(var a=0;;)try{return t.call(e,n,i,o,r,s)}catch(e){if("EAGAIN"===e.code&&10>a){a++;continue}throw e}}}(e.readSync)}},function(e){e.exports=require("constants")},function(e,t,n){var i=n(14).Stream;e.exports=function(e){return{ReadStream:function t(n,o){if(!(this instanceof t))return new t(n,o);i.call(this);var r=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,o=o||{};for(var s,a=Object.keys(o),u=0,c=a.length;u<c;u++)this[s=a[u]]=o[s];if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}return null===this.fd?void e.open(this.path,this.flags,this.mode,(function(e,t){return e?(r.emit("error",e),void(r.readable=!1)):(r.fd=t,r.emit("open",t),void r._read())})):void process.nextTick((function(){r._read()}))},WriteStream:function t(n,o){if(!(this instanceof t))return new t(n,o);i.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,o=o||{};for(var r,s=Object.keys(o),a=0,u=s.length;a<u;a++)this[r=s[a]]=o[r];if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(0>this.start)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(e){e.exports=require("stream")},function(e){"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}},function(e){e.exports=require("util")},function(e){e.exports=require("assert")},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(19);e.exports=function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=n.defaultValue,s=void 0===r?{}:r,a=n.serialize,u=void 0===a?o:a,c=n.deserialize,l=void 0===c?JSON.parse:c;i(this,e),this.source=t,this.defaultValue=s,this.serialize=u,this.deserialize=l}},function(e){"use strict";e.exports=function(e){return JSON.stringify(e,null,2)}},function(e,t,n){"use strict";function i(){var e=(Y=new m.BrowserWindow({title:"搜 索",useContentSize:!0,width:334,height:540,maximizable:!1,minimizable:!1})).webContents;e.on("did-finish-load",(function(){e.setZoomFactor(1),e.setVisualZoomLevelLimits(1,1),e.setLayoutZoomLevelLimits(0,0)})),Y.loadURL($),Y.on("closed",(function(){Y=null}))}function o(){var e=(V=new m.BrowserWindow({title:"设 置",useContentSize:!0,width:715,height:630,resizable:!1,maximizable:!1,minimizable:!1})).webContents;e.on("did-finish-load",(function(){e.setZoomFactor(1),e.setVisualZoomLevelLimits(1,1),e.setLayoutZoomLevelLimits(0,0)})),V.loadURL(H),V.on("closed",(function(){V=null}))}function r(){var e=(K=new m.BrowserWindow({useContentSize:!0,width:856,height:47,resizable:!0,frame:!1,transparent:!0})).webContents;e.on("did-finish-load",(function(){e.setZoomFactor(1),e.setVisualZoomLevelLimits(1,1),e.setLayoutZoomLevelLimits(0,0)})),K.loadURL(Q),K.setAlwaysOnTop(!0),K.setSkipTaskbar(!0),K.setTouchBar(function(){var e=new D({label:"🤒 Previous",backgroundColor:"#a923ce",click:function(){f()}}),t=new D({label:"🤪 Next",backgroundColor:"#2352ce",click:function(){l()}}),n=new D({label:"👻 Fuck !",backgroundColor:"#ce2323",click:function(){d(2)}});return new m.TouchBar({items:[e,new G({size:"small"}),t,new G({size:"small"}),n,new G({size:"small"})]})}()),K.on("closed",(function(){K=null}))}function s(){(X=new m.BrowserWindow({useContentSize:!0,width:88,height:23,resizable:!0,frame:!1,transparent:!0})).setTouchBar((Z=new D({label:"",backgroundColor:"#363636",click:function(){d(2)}}),new m.TouchBar({items:[Z]})));var e=X.webContents;e.on("did-finish-load",(function(){e.setZoomFactor(1),e.setVisualZoomLevelLimits(1,1),e.setLayoutZoomLevelLimits(0,0)})),X.loadURL(Q),X.setAlwaysOnTop(!0),X.setSkipTaskbar(!0),X.on("closed",(function(){X=null}))}function a(e){global.text={text:e}}function u(){if("1"===C.get("auto_page")){clearInterval(ee),C.set("auto_page","0");var e=C.get("second");ee=setInterval((function(){l()}),1e3*parseInt(e))}else"0"===C.get("auto_page")&&(C.set("auto_page","1"),clearInterval(ee))}function c(e){var t=C.get("curr_model");"1"===t?U.setTitle(e):"2"===t?(U.setTitle(""),a(e),null!=K&&K.webContents.send("text","ping")):"3"===t&&(U.setTitle(""),null!=X&&(a(I.getCpu()),X.webContents.send("text","ping")),Z.label=e)}function l(){var e=C.get("display_model"),t=C.get("display_shares_list");"2"===e?B.getData(t,(function(e){c(e)})):c(z.getNextPage())}function f(){var e=C.get("display_model"),t=C.get("display_shares_list");"2"===e?B.getData(t,(function(e){c(e)})):c(z.getPreviousPage())}function d(e){var t=I.getTime(),n=C.get("curr_model");"1"===n?U.setTitle(t):"2"===n?(U.setTitle(""),a(t),null!=K&&(1===e?K.webContents.send("text","boss"):2===e&&(K.isVisible()?K.hide():K.show()))):"3"===n&&(U.setTitle(""),null!=X&&(a(I.getCpu()),X.webContents.send("text","ping")),Z.label="🚄=[😘🐶🐱🐭🐹🐸🐯🐵🐙🐼🐨🐮🐥🦉🐍🦞🦙🐉🦂🦀🦐🐍🐢🐄🦍🦏🐓🐇🐷]")}function h(){m.app.quit()}function p(){try{var e=C.get("key_previous");if(!e||0>e.indexOf("+"))return;null!=ne&&m.globalShortcut.unregister(ne),ne=e,m.globalShortcut.register(e,(function(){f()}));var t=C.get("key_next");if(!t||0>t.indexOf("+"))return;null!=ie&&m.globalShortcut.unregister(ie),ie=t,m.globalShortcut.register(t,(function(){l()}));var n=C.get("key_boss");if(!n||0>n.indexOf("+"))return;null!=oe&&m.globalShortcut.unregister(oe),oe=n,m.globalShortcut.register(n,(function(){d(2)}));var i=C.get("key_auto");if(!i||0>i.indexOf("+"))return;null!=re&&m.globalShortcut.unregister(re),re=i,m.globalShortcut.register(i,(function(){u()}))}catch(e){m.dialog.showMessageBox({type:"info",title:"快捷键异常",message:"\b设置快捷键错误，请看文档异常汇总！",buttons:["打开文档","否"]},(function(e){0==e&&m.shell.openExternal("https://github.com/cteamx/Thief-Book/blob/master/README.md")})),h()}m.globalShortcut.register("CommandOrControl+Alt+X",(function(){h()}))}function g(){var e=(process.platform,__static+"/logo.png"),t=[];t.push({label:"关于",click:function(){m.shell.openExternal("https://github.com/cteamx/Thief-Book")}},{label:"检查更新",click:function(){W()({url:"https://gitee.com/lauix/public_version/raw/master/version.txt",method:"GET"},(function(e,t,n){console.log(n),parseFloat(n)>3?m.dialog.showMessageBox({type:"info",title:"检查更新",message:"发现新版本，是否更新？",buttons:["是","否"]},(function(e){0==e&&m.shell.openExternal("https://github.com/cteamx/Thief-Book/releases")})):m.dialog.showMessageBox({type:"info",title:"检查更新",message:"当前为最新版本",buttons:["确认"]})}))}}),J&&t.push({type:"separator"},{label:"任务栏模式",type:"radio",checked:"1"===C.get("curr_model"),click:function(){C.set("curr_model","1"),null!=K&&K.close(),null!=X&&X.close(),d(1)}},{label:"桌面模式",type:"radio",checked:"2"===C.get("curr_model"),click:function(){if(C.set("curr_model","2"),null!=X&&X.close(),"null"===K||"undefined"===K||void 0===K)r();else try{K.show()}catch(e){r()}setTimeout((function(){d(1)}),1e3)}},{label:"TouchBar模式",type:"radio",checked:"3"===C.get("curr_model"),click:function(){if(C.set("curr_model","3"),null!=K&&K.close(),"null"===X||"undefined"===X||void 0===X)s();else try{X.show()}catch(e){s()}setTimeout((function(){d(2)}),1e3)}}),t.push({type:"separator"},{label:"小说摸鱼",type:"radio",checked:"1"===C.get("display_model"),click:function(){clearInterval(te),C.set("display_model","1"),d(1)}},{label:"股票摸鱼",type:"radio",checked:"2"===C.get("display_model"),click:function(){C.set("display_model","2");var e=C.get("display_shares_list");B.getData(e,(function(e){c(e),function(){var e=C.get("display_model"),t=C.get("display_shares_list");"2"===e?(clearInterval(te),te=setInterval((function(){B.getData(t,(function(e){c(e)}))}),1e3*parseInt(5))):clearInterval(te)}()}))}},{type:"separator"},{label:"鼠标翻页",type:"checkbox",click:function(e){!function(e){null!=K&&(1==e.checked?C.set("is_mouse","1"):C.set("is_mouse","0"),K.reload(),setTimeout((function(){a(I.getTime()),K.webContents.send("text","boss")}),2e3))}(e)}},{label:"自动翻页",type:"checkbox",accelerator:C.get("key_auto"),checked:"0"===C.get("auto_page"),click:function(){u()}},{label:"上一页",accelerator:C.get("key_previous"),click:function(){f()}},{label:"下一页",accelerator:C.get("key_next"),click:function(){l()}},{label:"老板键",accelerator:C.get("key_boss"),click:function(){d(2)}},{label:"搜索",click:function(){if("null"===Y||"undefined"===Y||void 0===Y)i();else try{Y.show()}catch(e){i()}}},{label:"设置",click:function(){if("null"===V||"undefined"===V||void 0===V)o();else try{V.show()}catch(e){o()}}},{type:"separator"},{accelerator:"CommandOrControl+Alt+X",label:"退出",click:function(){h()}}),(U=new m.Tray(e)).setContextMenu(m.Menu.buildFromTemplate(t)),d()}var _=Math.ceil;n.r(t);var m=n(0),b=n(7),y=n.n(b),v=n(8),w=n.n(v),S=n(3),x=n.n(S),k=n(5),O=n.n(k),E=n(9),T=n.n(E),C={data:function(){return{db_util:null,file_json:""}},init:function(){var e=("renderer"===process.type?m.remote.app:m.app).getPath("userData");"renderer"===process.type||O.a.pathExistsSync(e)||O.a.mkdirpSync(e),this.file_json=new w.a(x.a.join(e,"/thief_data.json")),this.db_util=y()(this.file_json),this.db_util._.mixin(T.a),this.db_util.has("current_page").value()||this.db_util.set("current_page",1).write(),this.db_util.has("page_size").value()||this.db_util.set("page_size",20).write(),this.db_util.has("is_english").value()||this.db_util.set("is_english",!1).write(),this.db_util.has("line_break").value()||this.db_util.set("line_break"," ").write(),this.db_util.has("current_file_path").value()||this.db_util.set("current_file_path","").write(),this.db_util.has("bg_color").value()||this.db_util.set("bg_color","rgba(0, 0, 0, 0.5)").write(),this.db_util.has("txt_color").value()||this.db_util.set("txt_color","#fff").write(),this.db_util.has("font_size").value()||this.db_util.set("font_size","14").write(),this.db_util.has("second").value()||this.db_util.set("second","5").write(),this.db_util.has("auto_page").value()||this.db_util.set("auto_page","0").write(),this.db_util.has("key_next").value()||this.db_util.set("key_next","CommandOrControl+Alt+.").write(),this.db_util.has("key_previous").value()||this.db_util.set("key_previous","CommandOrControl+Alt+,").write(),this.db_util.has("key_boss").value()||this.db_util.set("key_boss","CommandOrControl+Alt+M").write(),this.db_util.has("key_auto").value()||this.db_util.set("key_auto","CommandOrControl+Alt+P").write(),this.db_util.has("errCodeChecked").value()||this.db_util.set("errCodeChecked",!1).write(),this.db_util.has("is_mouse").value()||this.db_util.set("is_mouse","0").write(),this.db_util.has("is_display_page").value()||this.db_util.set("is_display_page",!0).write(),this.db_util.has("display_model").value()||this.db_util.set("display_model","1").write(),this.db_util.has("display_shares_list").value()||this.db_util.set("display_shares_list",[]).write();var t="darwin"===process.platform;this.db_util.has("curr_model").value()||(t?this.db_util.set("curr_model","1").write():this.db_util.set("curr_model","2").write())},get:function(e){return this.init(),this.db_util.get(e).value()},set:function(e,t){this.init(),this.db_util.set(e,t).write()}},F=n(2),P=n.n(F),L=n(6),j=n.n(L),z={data:function(){return{curr_page_number:1,page_size:50,page:0,start:0,end:this.page_size,filePath:"",errCode:!1}},getSize:function(e){var t=e.length;this.page=_(t/this.page_size)},getFileName:function(){this.filePath.split("/").pop()},getPage:function(e){var t=C.get("current_page"),n=0;"previous"===e?n=1>=t?1:t-1:"next"===e?n=t>=this.page?this.page:t+1:"curr"===e&&(n=t),this.curr_page_number=n},updatePage:function(){C.set("current_page",this.curr_page_number)},getStartEnd:function(){this.start=this.curr_page_number*this.page_size,this.end=this.curr_page_number*this.page_size-this.page_size},readFile:function(){if(""===this.filePath||void 0===this.filePath)return"请选择TXT小说路径";try{var e=P.a.readFileSync(this.filePath);e=this.errCode?j.a.decode(e,"gb2312"):j.a.decode(e,"utf-8")}catch(e){return"TXT小说路径不存在或路径不正确"}var t=C.get("line_break");return e.toString().replace(/\n/g,t).replace(/\r/g," ").replace(/　　/g," ").replace(/ /g," ")},init:function(){this.filePath=C.get("current_file_path"),this.errCode=C.get("errCodeChecked");C.get("is_english"),C.get("curr_model");this.page_size=C.get("page_size")},soText:function(e){this.init();var t=this.readFile();this.getSize(t);var n=[],i=new RegExp(e,"g"),o="";do{try{o=i.exec(t);var r=_(o.index/this.page_size),s=t.substring(o.index-30,o.index+31);n.push({index:o.index,page:r,text:s})}catch(e){}}while(null!=o);return n},makePage:function(e){if(this.getStartEnd(),this.updatePage(),C.get("is_display_page")){var t=this.curr_page_number.toString()+"/"+this.page.toString();return e.substring(this.start,this.end)+"    "+t}return e.substring(this.start,this.end)},getPreviousPage:function(){this.init();var e=this.readFile();return this.getSize(e),this.getPage("previous"),this.makePage(e)},getNextPage:function(){this.init();var e=this.readFile();return this.getSize(e),this.getPage("next"),this.makePage(e)},getJumpingPage:function(){this.init();var e=this.readFile();return this.getSize(e),this.getPage("curr"),this.makePage(e)}},M=n(1),N=n.n(M),I={data:function(){return{db_util:null,file_json:""}},dealTime:function(e){var t=0|(e=0|e)/86400,n=0|(e-3600*t)/3600,i=0|(e-3600*t*24-3600*n)/60,o=e%60;return 10>t&&(t="0"+t),10>n&&(n="0"+n),10>i&&(i="0"+i),10>o&&(o="0"+o),[t,n,i,o].join(":")},getTime:function(){var e=N.a.uptime();return"您的开机时长："+this.dealTime(e)},getCpu:function(){var e=N.a.freemem(),t=N.a.totalmem();return((t-e)/1024/1024/1024).toFixed(1)+"G/"+(t/1024/1024/1024).toFixed(0)+"G"}},q=n(4),A={"User-Agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36"},B={getData:function(e,t){var n=e[0],i=e[1],o=e[2];q({url:"http://hq.sinajs.cn/list="+n,method:"GET",encoding:null,headers:A},(function(e,n,r){var s=r.toString().split(","),a=(parseFloat(s[1]),parseFloat(s[3])),u=parseFloat(s[11]),c=parseInt(s[10])/100,l=parseFloat(s[21]),f=parseInt(s[20])/100,d=a.toFixed(2)+" "+u.toFixed(2)+":"+c+" "+l.toFixed(2)+":"+f+" "+i+"-"+o+" $:"+(a*i-o*i).toFixed(2);t(d)}))}},R=n(4),W=n.n(R),D=m.TouchBar.TouchBarButton,G=m.TouchBar.TouchBarSpacer,Z=null;global.__static=n(3).join(__dirname,"/static").replace(/\\/g,"\\\\");var U=void 0,V=void 0,Y=void 0,K=void 0,X=void 0,J="darwin"===process.platform,$="file://"+__dirname+"/index.html#so",H="file://"+__dirname+"/index.html#setting",Q="file://"+__dirname+"/index.html#desktop",ee=void 0,te=void 0,ne=null,ie=null,oe=null,re=null;m.ipcMain.on("bg_text_color",(function(){U.destroy(),p(),g(),null!=K&&K.webContents.send("bg_text_color","ping"),null!=X&&X.webContents.send("bg_text_color","ping")})),m.ipcMain.on("jump_page",(function(){l()})),m.ipcMain.on("MouseAction",(function(e,t){null!=K&&("1"==t?l():"2"==t?f():"3"==t||"4"==t&&d(2))})),m.app.makeSingleInstance((function(){K&&(K.isMinimized()&&K.restore(),K.focus())}))&&m.app.quit(),m.app.on("ready",(function(){J?(J&&m.app.dock.hide(),"2"===C.get("curr_model")?(r(),setTimeout((function(){d(1)}),1e3)):"3"===C.get("curr_model")&&C.set("curr_model","1")):(r(),setTimeout((function(){d(1)}),1e3)),p(),g()})),m.app.on("window-all-closed",(function(){C.set("auto_page","1"),C.set("is_mouse","0"),J&&C.set("curr_model","1"),"darwin"!==process.platform&&m.app.quit()}))}]);